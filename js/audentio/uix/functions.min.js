uix.sticky={items:[],stickyHeight:0,fullStickyHeight:0,downStickyHeight:0,stickyElmsHeight:0,performanceLog:false,betaMode:false,running:false,stickyLastBottom:0,lastScrollTop:0,scrollStart:0,scrollDistance:0,scrollDirection:"start",preventStickyTop:false,stickyMinPos:350,stickyOffsetDist:0,stickyMinDist:10,scrollDetectorRunning:false,scrollTop:window.scrollY||document.documentElement.scrollTop,html:$("html"),needsInit:true,windowWidth:0,windowHeight:0,minWidthDefault:0,maxWidthDefault:999999,minHeightDefault:0,maxHeightDefault:999999,postAddFunc:function(){},postStickFunc:function(){},postUnstickFunc:function(){},postDelayUnstickFunc:function(){},preDelayUnstickFunc:function(){},set:function(e){if(e!==undefined){if(e.betaMode!==undefined)uix.sticky.betaMode=e.betaMode;if(e.performanceLog!==undefined)uix.sticky.performanceLog=e.performanceLog;if(e.stickyMinPos!==undefined)uix.sticky.stickyMinPos=e.stickyMinPos;if(e.stickyMinDist!==undefined)uix.sticky.stickyMinDist=e.stickyMinDist;if(e.minWidthDefault!==undefined)uix.sticky.minWidthDefault=e.minWidthDefault;if(e.maxWidthDefault!==undefined)uix.sticky.maxWidthDefault=e.maxWidthDefault;if(e.minHeightDefault!==undefined)uix.sticky.minHeightDefault=e.minHeightDefault;if(e.maxHeightDefault!==undefined)uix.sticky.maxHeightDefault=e.maxHeightDefault;if(e.postAddFunc!==undefined)uix.sticky.postAddFunc=e.postAddFunc;if(e.postStickFunc!==undefined)uix.sticky.postStickFunc=e.postStickFunc;if(e.postUnstickFunc!==undefined)uix.sticky.postUnstickFunc=e.postUnstickFunc;if(e.postDelayUnstickFunc!==undefined)uix.sticky.postDelayUnstickFunc=e.postDelayUnstickFunc;if(e.preDelayUnstickFunc!==undefined)uix.sticky.preDelayUnstickFunc=e.preDelayUnstickFunc}},init:function(){uix.sticky.viewport();$(window).on("resize orientationchange",function(){uix.sticky.resize()});uix.sticky.needsInit=false},add:function(e,t,n,r){if(uix.sticky.needsInit)uix.sticky.init();if(uix.sticky.performanceLog)performanceTimer=Date.now();var i={};i.name=e;i.elm=$(e);i.docElm=document.getElementById(e.replace("#",""));i.offset=i.elm.offset();i.state=0;i.alwaysSticky=false;i.zIndex=250;i.subElement=null;i.subNormalHeight=0;i.subStickyHeight=0;i.subStickyHide=false;uix.sticky.fullStickyHeight+=n;if(r===undefined){i.maxWidth=uix.sticky.maxWidthDefault;i.minWidth=uix.sticky.minWidthDefault;i.maxHeight=uix.sticky.maxHeightDefault;i.minHeight=uix.sticky.minHeightDefault;i.scrollSticky=1}else{i.maxWidth=r.maxWidth===undefined?uix.sticky.maxWidthDefault:r.maxWidth;i.minWidth=r.minWidth===undefined?uix.sticky.minWidthDefault:r.minWidth;i.maxHeight=r.maxHeight===undefined?uix.sticky.maxHeightDefault:r.maxHeight;i.minHeight=r.minHeight===undefined?uix.sticky.minHeightDefault:r.minHeight;i.scrollSticky=r.scrollSticky===undefined?1:r.scrollSticky;i.zIndex=r.zIndex===undefined?250:r.zIndex;i.subElement=r.subElement===undefined?null:$(r.subElement);i.subNormalHeight=r.subNormalHeight===undefined?0:r.subNormalHeight;i.subStickyHeight=r.subStickyHeight===undefined?0:r.subStickyHeight;i.subStickyHide=r.subStickyHide===undefined?false:r.subStickyHide}if(i.scrollSticky)uix.sticky.scrollDetectorRunning=true;if(i.scrollSticky==0)uix.sticky.downStickyHeight+=n;if(i.offset.top==uix.sticky.stickyElmsHeight){if(i.docElm.getBoundingClientRect().top==uix.sticky.stickyElmsHeight){i.alwaysSticky=true;uix.sticky.stickyElmsHeight+=i.stickyHeight}}if(r.subStickyHide)i.subStickyHeight=0;i.normalHeight=t+i.subNormalHeight;i.stickyHeight=n+i.subStickyHeight;if(i.normalHeight>i.stickyHeight){uix.sticky.stickyOffsetDist+=i.normalHeight}else{uix.sticky.stickyOffsetDist+=i.stickyHeight}uix.sticky.stickyLastBottom=i.offset.top+i.elm.outerHeight();if(!i.elm.find(".sticky_wrapper").length)i.elm.wrapInner('<div class="sticky_wrapper"></div>').addClass("inactiveSticky");i.wrapper=i.elm.find(".sticky_wrapper");if(uix.elm.logoSmall.length&&uix.elm.logo.length)uix.fn.checkLogoVisibility();uix.sticky.items.push(i);uix.sticky.checkSize(uix.sticky.items.length-1);uix.sticky.running=true;uix.sticky.check();uix.sticky.postAddFunc();if(uix.sticky.performanceLog)uix.sticky.log("	UIX.sticky.add "+e+": "+(Date.now()-performanceTimer)+" ms")},hasItem:function(e){for(var t=0;t<uix.sticky.items.length;t++){if(uix.sticky.items[t].name==e)return true}return false},remove:function(e){for(var t=0;t<uix.sticky.items.length;t++){if(uix.sticky.items[t].name==e){uix.fullStickyHeight-=uix.sticky.items[t].stickyHeight;uix.sticky.items.splice(t,1)}}uix.sticky.check()},stick:function(e,t){if(uix.sticky.performanceLog)performanceTimer=Date.now();var n=uix.sticky.items[e].elm,r=uix.sticky.items[e].wrapper,i=uix.sticky.items[e].normalHeight;$(".lastSticky").removeClass("lastSticky");n.addClass("lastSticky").removeClass("inactiveSticky").addClass("activeSticky").css("height",i);if(uix.sticky.items[e].scrollSticky){r.css("top",t-uix.sticky.stickyOffsetDist)}else{r.css({top:t,"z-index":uix.sticky.items[e].zIndex})}uix.sticky.items[e].state=1;uix.sticky.postStickFunc();if(uix.sticky.performanceLog)uix.sticky.log("~UIX.sticky.stick "+uix.sticky.items[e].name+" : "+(Date.now()-performanceTimer)+" ms")},unstick:function(e){if(uix.sticky.performanceLog)performanceTimer=Date.now();var t=uix.sticky.items[e].elm,n=uix.sticky.items[e].wrapper,r=uix.sticky.items[e].stickyHeight;t.addClass("inactiveSticky").removeClass("lastSticky").removeClass("activeSticky").css({height:"","z-index":""});n.css("top","");uix.sticky.items[e].state=0;if(uix.sticky.items[e].state!=2){$(".activeSticky").last().addClass("lastSticky");uix.sticky.postUnstickFunc()}if(uix.sticky.performanceLog)uix.sticky.log("~UIX.sticky.unstick "+uix.sticky.items[e].name+" : "+(Date.now()-performanceTimer)+" ms")},delayUnstick:function(){for(var e=0;e<uix.sticky.items.length;e++){if(uix.sticky.items[e].state==2){uix.sticky.items[e].wrapper.css({transform:"","-webkit-transform":"","-ms-transform":"","-ms-transform":"","-moz-transform":"","z-index":""});uix.sticky.unstick(e)}}$(".activeSticky").last().addClass("lastSticky");uix.sticky.postDelayUnstickFunc()},delayStick:function(){for(var e=0;e<uix.sticky.items.length;e++){if(uix.sticky.items[e].state==3){uix.sticky.items[e].wrapper.css({transform:"translate3d(0, "+uix.sticky.stickyOffsetDist+"px, 0)","-webkit-transform":"translate3d(0, "+uix.sticky.stickyOffsetDist+"px, 0)","-ms-transform":"translate3d(0, "+uix.sticky.stickyOffsetDist+"px, 0)","-ms-transform":"translate3d(0, "+uix.sticky.stickyOffsetDist+"px, 0)","-moz-transform":"translate3d(0, "+uix.sticky.stickyOffsetDist+"px, 0)","z-index":uix.sticky.items[e].zIndex});uix.sticky.items[e].state=1}}},check:function(){if(uix.sticky.performanceLog)performanceTimer=Date.now();if(uix.sticky.scrollDetectorRunning)uix.sticky.scrollDetector();var e=0;var t=false;var n=false;for(var r=0;r<uix.sticky.items.length;r++){if(uix.sticky.items[r].enabled){var i=uix.sticky.items[r].docElm.getBoundingClientRect().top;innerWrapper=uix.sticky.items[r].wrapper,wrapperFromWindowTop=innerWrapper[0].getBoundingClientRect().top,wrapperFromWindowTopInit=wrapperFromWindowTop;if(wrapperFromWindowTop<e)wrapperFromWindowTop=e;if(uix.sticky.scrollDetectorRunning&&uix.sticky.items[r].scrollSticky==1){if(uix.sticky.scrollTop<=uix.sticky.stickyMinPos){innerWrapper.css({transform:"","-webkit-transform":"","-ms-transform":"","-ms-transform":"","-moz-transform":"","z-index":""})}else if(uix.sticky.scrollTop>uix.sticky.stickyMinPos&&uix.sticky.scrollDirection=="down"&&i<wrapperFromWindowTop&&uix.sticky.scrollDistance>uix.sticky.stickyMinDist){innerWrapper.css({transform:"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)"})}if(uix.sticky.items[r].state==1){if(!uix.sticky.items[r].alwaysSticky&&i>=wrapperFromWindowTop||uix.sticky.scrollDirection=="down"&&uix.sticky.scrollDistance>uix.sticky.stickyMinDist||uix.sticky.scrollTop<=uix.sticky.stickyMinPos){innerWrapper.css({transform:"translate3d(0, 0, 0)","-webkit-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-ms-transform":"translate3d(0, 0, 0)","-moz-transform":"translate3d(0, 0, 0)"});uix.sticky.items[r].state=2;n=true}else{e+=uix.sticky.items[r].stickyHeight}}else if(uix.sticky.items[r].state==0&&uix.sticky.preventStickyTop==false){if(wrapperFromWindowTopInit-e<=0&&uix.sticky.scrollDirection=="up"&&uix.sticky.scrollDistance>uix.sticky.stickyMinDist&&uix.sticky.scrollTop>uix.sticky.stickyMinPos){uix.sticky.stick(r,e);uix.sticky.items[r].state=3;t=true;e+=uix.sticky.items[r].stickyHeight}}}else{if(uix.sticky.items[r].state==1){if(!uix.sticky.items[r].alwaysSticky&&i>=wrapperFromWindowTop){uix.sticky.unstick(r)}else{e+=uix.sticky.items[r].stickyHeight}}else{if(wrapperFromWindowTopInit-e<=0){uix.sticky.stick(r,e);e+=uix.sticky.items[r].stickyHeight}}}}else{if(uix.sticky.items[r].state==1){uix.sticky.unstick(r)}}}uix.sticky.stickyHeight=e;if(n){uix.sticky.preDelayUnstickFunc();window.setTimeout(function(){uix.sticky.delayUnstick()},210)}else if(t){uix.sticky.delayStick()}if(uix.sticky.performanceLog)uix.sticky.log("~UIX.sticky.check : "+(Date.now()-performanceTimer)+" ms")},resize:function(){uix.sticky.viewport();for(var e=0;e<uix.sticky.items.length;e++){uix.sticky.checkSize(e)}uix.sticky.update()},viewport:function(){var e=window,t="inner";if(!window.innerWidth){t="client";e=document.documentElement||document.body}var n={width:e[t+"Width"],height:e[t+"Height"]};uix.sticky.windowWidth=n.width;uix.sticky.windowHeight=n.height},checkSize:function(e){var t=uix.sticky.items[e];windowHeight=uix.sticky.windowHeight;windowWidth=uix.sticky.windowWidth;if(windowHeight>=t.minHeight&&windowHeight<=t.maxHeight&&windowWidth>=t.minWidth&&windowWidth<=t.maxWidth){uix.sticky.items[e].enabled=true}else{uix.sticky.items[e].enabled=false}},update:function(){var e=uix.sticky.items;currentTop=0;uix.sticky.check();for(var t=0;t<uix.sticky.items.length;t++){if(uix.sticky.items[t].state==1&&uix.sticky.items[t].enabled){innerWrapper=uix.sticky.items[t].wrapper;if(uix.sticky.items[t].scrollSticky){innerWrapper.css("top",currentTop-uix.sticky.stickyOffsetDist)}else{innerWrapper.css({top:currentTop,"z-index":uix.sticky.items[t].zIndex})}currentTop+=uix.sticky.items[t].stickyHeight}}uix.sticky.check()},getState:function(e){for(var t=0;t<uix.sticky.items.length;t++){if(uix.sticky.items[t].name==e)return uix.sticky.items[t].state}return-1},updateScrollTop:function(){uix.sticky.scrollTop=window.scrollY||document.documentElement.scrollTop},scrollDetector:function(){if(uix.sticky.performanceLog)performanceTimer=Date.now();uix.sticky.updateScrollTop();direction="";if(uix.sticky.scrollDirection=="start")uix.sticky.scrollStart=uix.sticky.scrollTop;if(uix.sticky.scrollTop>uix.sticky.lastScrollTop){if(uix.sticky.scrollDirection=="up")uix.sticky.scrollStart=uix.sticky.lastScrollTop;direction="down";uix.sticky.html.removeClass("scrollDirection-up").addClass("scrollDirection-down")}else if(uix.sticky.scrollTop<uix.sticky.lastScrollTop){if(uix.sticky.scrollDirection=="down")uix.sticky.scrollStart=uix.sticky.lastScrollTop;direction="up";uix.sticky.html.removeClass("scrollDirection-down").addClass("scrollDirection-up")}uix.sticky.scrollDistance=Math.abs(uix.sticky.scrollTop-uix.sticky.scrollStart);uix.sticky.scrollDirection=direction;if(uix.sticky.performanceLog)uix.sticky.log("Scroll: "+uix.sticky.scrollDirection+" "+uix.sticky.scrollDistance);uix.sticky.lastScrollTop=uix.sticky.scrollTop;if(uix.sticky.performanceLog)uix.sticky.log("~UIX.scrollDetector Scroll : "+(Date.now()-performanceTimer)+" ms")},log:function(e){if(uix.sticky.betaMode)console.log(e)}};$(document).ready(function(){var e=$(window),t=$("html"),n=$("head"),r=$("body");uix.windowWidth=0;uix.windowHeight=0;uix.scrollTop=window.scrollY||document.documentElement.scrollTop;uix.elm={navigation:$("#navigation"),userBar:$("#moderatorBar"),logo:$("#logo"),logoBlock:$("#logoBlock"),logoSmall:$("#logo_small"),jumpToFixed:$("#uix_jumpToFixed"),mainSidebar:$(".uix_mainSidebar"),mainContent:$(".mainContent"),mainContainer:$(".mainContainer"),welcomeBlock:$("#uix_welcomeBlock"),stickyCSS:$("#uixStickyCSS")};uix.elm.sidebar=$(".uix_mainSidebar");uix.elm.sidebar_inner=uix.elm.sidebar.find(".sidebar");uix.stickySidebarState=0;uix.stickySidebarBottomFixed=0;uix.hasSticky=Object.keys(uix.stickyItems).length>0?true:false;uix.contentHeight=uix.elm.mainContent.outerHeight();uix.emBreak=uix.elm.mainContainer.scrollTop();uix.resizeTimer=undefined;uix.viewportRunning=false;uix.viewportScrollClass="";uix.slidingSidebar=true;uix.jumpToScrollTimer=null;uix.jumpToScrollHideTimer=null;uix.jumpToFixedRunning=false;uix.jumpToFixedOpacity=0;uix.performanceLog=false;uix.performanceTimer=Date.now();uix.log=function(e){if(uix.betaMode)console.log(e)};uix.info=function(e){if(uix.betaMode)console.info(e)};uix.sidebarSticky={running:false,hasTransition:true,resize:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.elm.sidebar.is(":visible")){if(uix.windowWidth>uix.sidebarMaxResponsiveWidth&&uix.sidebarSticky.running){uix.sidebarSticky.update();if(uix.stickySidebarState==1){uix.sidebarSticky.innerWrapper.css({left:uix.sidebarSticky.sidebarFromLeft})}else{uix.sidebarSticky.innerWrapper.css("left","")}}else if(uix.windowWidth>uix.sidebarMaxResponsiveWidth&&!uix.sidebarSticky.running){uix.init.stickySidebar()}else{uix.sidebarSticky.reset()}}},update:function(){if(uix.elm.sidebar.length&&uix.stickySidebar){if(uix.performanceLog)performanceTimer=Date.now();uix.sidebarSticky.sidebarOffset=uix.elm.sidebar.offset();uix.sidebarSticky.sidebarFromLeft=uix.sidebarSticky.sidebarOffset.left;uix.sidebarSticky.mainContainerHeight=uix.elm.mainContainer.outerHeight();uix.sidebarSticky.innerWrapper.css("width",uix.elm.sidebar.outerWidth());var e=uix.elm.sidebar.outerHeight();var t=uix.sidebarSticky.innerWrapper.outerHeight();if(e>t){uix.sidebarSticky.sidebarHeight=e}else{uix.sidebarSticky.sidebarHeight=t}uix.sidebarSticky.bottomLimit=uix.elm.mainContainer.offset().top+uix.sidebarSticky.mainContainerHeight;uix.sidebarSticky.maxTop=uix.sidebarSticky.bottomLimit-(uix.sidebarSticky.sidebarOffset.top+uix.sidebarSticky.sidebarHeight);uix.sidebarSticky.check();if(uix.performanceLog)uix.log("~UIX.sidebarSticky.update : "+(Date.now()-performanceTimer)+" ms")}},check:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth){if(uix.performanceLog)performanceTimer=Date.now();if(uix.sidebarSticky.mainContainerHeight>=uix.sidebarSticky.sidebarHeight){var e=uix.sidebarSticky.sidebarOffset.top-(uix.sticky.stickyHeight+uix.scrollTop);var t=uix.sidebarSticky.bottomLimit-uix.scrollTop;if(t-uix.sticky.stickyHeight<=uix.sidebarSticky.sidebarHeight+uix.globalPadding){uix.sidebarSticky.fixBottom()}else if(uix.stickySidebarState==1&&e-uix.globalPadding>0){uix.sidebarSticky.unstick()}else if(t-uix.sticky.stickyHeight>uix.sidebarSticky.sidebarHeight+uix.globalPadding&&e-uix.globalPadding<=0){uix.sidebarSticky.stick()}}else if(uix.sidebarSticky.running){uix.sidebarSticky.unstick()}if(uix.performanceLog)uix.log("~UIX.sidebarSticky.check : "+(Date.now()-performanceTimer)+" ms")}},stick:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth){if(uix.performanceLog)performanceTimer=Date.now();uix.elm.sidebar.addClass("sticky");uix.stickySidebarState=1;uix.stickySidebarBottomFixed=0;if(!uix.slidingSidebar&&uix.sidebarSticky.hasTransition){uix.sidebarSticky.hasTransition=false;uix.sidebarSticky.innerWrapper.css({transition:"top 0.0s"})}uix.sidebarSticky.innerWrapper.css({top:uix.sticky.stickyHeight+uix.globalPadding,left:uix.sidebarSticky.sidebarOffset.left});if(uix.performanceLog)uix.log("~UIX.sidebarSticky.stick : "+(Date.now()-performanceTimer)+" ms")}},unstick:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.sidebarSticky.running){if(uix.performanceLog)performanceTimer=Date.now();uix.elm.sidebar.removeClass("sticky");uix.stickySidebarState=0;uix.stickySidebarBottomFixed=0;if(uix.slidingSidebar&&!uix.sidebarSticky.hasTransition){uix.sidebarSticky.hasTransition=true;uix.sidebarSticky.innerWrapper.css({transition:"top 0.2s"})}else if(!uix.slidingSidebar&&uix.sidebarSticky.hasTransition){uix.sidebarSticky.hasTransition=false;uix.sidebarSticky.innerWrapper.css({transition:"top 0.0s"})}uix.sidebarSticky.innerWrapper.css({top:"",left:""});if(uix.performanceLog)uix.log("~UIX.sidebarSticky.unstick : "+(Date.now()-performanceTimer)+" ms")}},fixBottom:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth){uix.stickySidebarState=0;uix.stickySidebarBottomFixed=1;if(uix.performanceLog)performanceTimer=Date.now();uix.elm.sidebar.removeClass("sticky");uix.stickySidebar.hasTransition=false;uix.sidebarSticky.innerWrapper.css({transition:"top 0.0s",top:uix.sidebarSticky.maxTop,left:""});if(uix.performanceLog)uix.log("~UIX.sidebarSticky.fixBottom : "+(Date.now()-performanceTimer)+" ms")}},reset:function(){if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.sidebarSticky.running){if(uix.performanceLog)performanceTimer=Date.now();uix.sidebarSticky.unstick();uix.sidebarSticky.innerWrapper.css("width","");uix.sidebarSticky.running=false;if(uix.performanceLog)uix.log("~UIX.sidebarSticky.reset : "+(Date.now()-performanceTimer)+" ms")}}};uix.fn.checkRadius=function(){if(uix.performanceLog)performanceTimer=Date.now();var t=["#logoBlock .pageContent","#content .pageContent","#userBar .pageContent","#navigation .pageContent",".footer .pageContent","#uix_footer_columns .pageContent",".footerLegal .pageContent"];var n={};var r=e.width();var i=$("#uix_wrapper").offset().top;for(var s=0;s<t.length;s++){var o=t[s];var u=$(o);n[s]={};if(u.length){n[s]["element"]=u;n[s]["length"]=u.length;n[s]["width"]=u.outerWidth();n[s]["height"]=u.outerHeight();n[s]["topOffset"]=u.offset().top;n[s]["topRadius"]=true;n[s]["bottomRadius"]=true}}for(var s=0;s<t.length;s++){if(n[s]["length"]){if(n[s]["width"]==r){n[s]["topRadius"]=false;n[s]["bottomRadius"]=false}else{for(var a=0;a<t.length;a++){if(n[a]["length"]){if(a!=s){var f=n[s]["topOffset"]-(n[a]["topOffset"]+n[a]["height"])==0;var l=n[s]["topOffset"]+n[s]["height"]==n[a]["topOffset"];if(f)n[s]["topRadius"]=false;if(l)n[s]["bottomRadius"]=false}}}}if(n[s]["topRadius"]==false&&n[s]["bottomRadius"]==false){n[s]["element"].addClass("noBorderRadius").removeClass("noBorderRadiusTop").removeClass("noBorderRadiusBottom")}else if(n[s]["topRadius"]==false){n[s]["element"].removeClass("noBorderRadius").addClass("noBorderRadiusTop").removeClass("noBorderRadiusBottom")}else if(n[s]["bottomRadius"]==false){n[s]["element"].removeClass("noBorderRadius").removeClass("noBorderRadiusTop").addClass("noBorderRadiusBottom")}else{n[s]["element"].removeClass("noBorderRadius").removeClass("noBorderRadiusTop").removeClass("noBorderRadiusBottom")}}}if(uix.performanceLog)uix.log("~UIX.fn.checkRadius : "+(Date.now()-performanceTimer)+" ms")};uix.fn.checkLogoVisibility=function(){if(uix.performanceLog)performanceTimer=Date.now();if(uix.sticky.getState("#navigation")==1){var e=uix.elm.logo.offset().top+uix.elm.logo.outerHeight(true)/2,n=uix.elm.navigation.find(".sticky_wrapper"),r=n.offset().top+n.outerHeight(true);if(e<r){t.addClass("activeSmallLogo")}else{t.removeClass("activeSmallLogo")}}else{t.removeClass("activeSmallLogo")}if(uix.performanceLog)uix.log("~UIX.fn.checkLogoVisibility : "+(Date.now()-performanceTimer)+" ms")};uix.fn.viewportCheck=function(){if(uix.performanceLog)performanceTimer=Date.now();uix.scrollTop=window.scrollY||document.documentElement.scrollTop;if(uix.scrollTop==0){t.removeClass("scrollNotTouchingTop");uix.viewportScrollClass=""}else if(uix.viewportScrollClass!="scrollNotTouchingTop"){t.addClass("scrollNotTouchingTop");uix.viewportScrollClass="scrollNotTouchingTop"}if(uix.performanceLog)uix.log("~UIX.init.viewportCheck Scroll : "+(Date.now()-performanceTimer)+" ms")};uix.fn.jumpToFixed=function(){if(uix.performanceLog)performanceTimer=Date.now();if(uix.jumpToFixed_delayHide&&uix.jumpToScrollTimer){clearTimeout(uix.jumpToScrollTimer);clearTimeout(uix.jumpToScrollHideTimer)}if(uix.scrollTop>140){if(uix.jumpToFixedOpacity==0){uix.elm.jumpToFixed.css({display:"block"});uix.jumpToFixedOpacity=1;window.setTimeout(function(){uix.elm.jumpToFixed.css({opacity:"1"})},10)}if(uix.jumpToFixed_delayHide==1){uix.jumpToScrollTimer=setTimeout(function(){uix.jumpToScrollTimer=null;uix.jumpToFixedOpacity=0;uix.elm.jumpToFixed.css({opacity:"0"});uix.jumpToScrollHideTimer=window.setTimeout(function(){if(uix.jumpToFixedOpacity==0)uix.elm.jumpToFixed.css({display:"none"})},450)},1500)}}else{if(uix.jumpToFixedOpacity!=0){uix.jumpToFixedOpacity=0;uix.elm.jumpToFixed.css({opacity:"0"})}uix.jumpToScrollHideTimer=window.setTimeout(function(){if(uix.jumpToFixedOpacity==0)uix.elm.jumpToFixed.css({display:"none"})},450)}if(uix.performanceLog)uix.log("~UIX.init.jumpToFixed Scroll : "+(Date.now()-performanceTimer)+" ms")};uix.fn.updateSidebar=function(){if(uix.windowWidth>uix.sidebarMaxResponsiveWidth){uix.elm.sidebar.css({width:uix.sidebarWidth,"float":uix.sidebar_innerFloat})}else{uix.elm.sidebar.css({width:"","float":""});if(uix.sidebarSticky.length&&uix.sidebarSticky.innerWrapper.length){uix.sidebarSticky.innerWrapper.css({width:"",top:""})}}};uix.init.viewportCheck=function(){if(uix.performanceLog)performanceTimer=Date.now();var e=window,t="inner";if(!window.innerWidth){t="client";e=document.documentElement||document.body}var n={width:e[t+"Width"],height:e[t+"Height"]};uix.windowWidth=n.width;uix.windowHeight=n.height;if(uix.viewportRunning==false)uix.viewportRunning=true;if(uix.performanceLog)uix.log("~UIX.init.viewportCheck : "+(Date.now()-performanceTimer)+" ms")};uix.init.welcomeBlock=function(){if(uix.performanceLog)performanceTimer=Date.now();if(uix.elm.welcomeBlock.length&&uix.elm.welcomeBlock.hasClass("uix_welcomeBlock_fixed")){if($.getCookie("hiddenWelcomeBlock")==1){if(uix.reinsertWelcomeBlock){uix.elm.welcomeBlock.removeClass("uix_welcomeBlock_fixed")}else{uix.elm.welcomeBlock.hide()}}uix.elm.welcomeBlock.find(".close").on("click",function(e){e.preventDefault();$.setCookie("hiddenWelcomeBlock",1);uix.elm.welcomeBlock.css({opacity:"0"});if(uix.reinsertWelcomeBlock){window.setTimeout(function(){uix.elm.welcomeBlock.removeClass("uix_welcomeBlock_fixed");uix.elm.welcomeBlock.css("opacity",1);if(uix.sidebarSticky.running)uix.sidebarSticky.update()},500)}})}if(uix.performanceLog)uix.log("~UIX.init.welcomeBlock : "+(Date.now()-performanceTimer)+" ms")};uix.init.setupAdminLinks=function(){var e=$(".moderatorTabs");if(e.length){if(uix.performanceLog)performanceTimer=Date.now();e.children().each(function(){var e=$(this);if(e.is("a"))e.addClass("navLink");if(!e.is("li"))e.wrap('<li class="navTab" />')});$(".uix_adminMenu .blockLinksList").children().each(function(){var e=$(this);if(e.is("a"))e.addClass("navLink");if(!e.is("li"))e.wrap('<li class="navTab" />')});if($(".admin",e).length){var t=$(".uix_adminMenu").find(".itemCount"),n=0,r=0;t.each(function(){var e=$(this);n+=parseInt(e.text(),10);if(e.hasClass("alert"))r=1});if(n>0){$(".admin .itemCount",e).removeClass("Zero").find(".Total").text(n);if(r)$(".admin .itemCount",e).addClass("alert")}}if(uix.performanceLog)uix.log("~UIX.init.setupAdminLinks : "+(Date.now()-performanceTimer)+" ms")}};uix.init.jumpToFixed=function(){if(uix.performanceLog)performanceTimer=Date.now();var e=function(e){if(uix.performanceLog)performanceTimer2=Date.now();if(e=="bottom"){$("html, body").stop().animate({scrollTop:$(document).height()},400)}else{uix.sticky.preventStickyTop=true;$("html, body").stop().animate({scrollTop:0},400);window.setTimeout(function(){uix.sticky.preventStickyTop=false},400)}if(uix.performanceLog)uix.log("~UIX.init.jumpToFixed ScrollToThe : "+(Date.now()-performanceTimer2)+" ms");return false};var t=uix.elm.jumpToFixed;$(".topLink").on("click",function(){e("top")});if(t.length){t.find("a").on("click",function(t){t.preventDefault();e($(this).data("position"))});if(uix.jumpToFixed_delayHide){t.hover(function(){clearTimeout(uix.jumpToScrollTimer);clearTimeout(uix.jumpToScrollHideTimer);t.css({display:"block"});uix.jumpToFixedOpacity=1;window.setTimeout(function(){t.css({opacity:"1"})},10)},function(){uix.jumpToFixedOpacity=0;t.css({opacity:"0"});uix.jumpToScrollHideTimer=window.setTimeout(function(){if(uix.jumpToFixedOpacity==0)t.css({display:"none"})},450)})}uix.jumpToFixedRunning=true}if(uix.performanceLog)uix.log("~UIX.init.jumpToFixed : "+(Date.now()-performanceTimer)+" ms")};uix.init.fixScrollLocation=function(){if(document.location.hash&&uix.sticky.scrollDetectorRunning==false){if(uix.performanceLog)performanceTimer=Date.now();var e=$(document.location.hash);var t=e.offset().top-uix.sticky.stickyHeight-uix.globalPadding;if(e.length)window.scrollTo(0,t);if(uix.performanceLog)uix.log("~UIX.init.fixScrollLocation : "+(Date.now()-performanceTimer)+" ms")}};uix.init.mainSidebar=function(){if(uix.performanceLog)performanceTimer=Date.now();var e=uix.elm.mainSidebar,n=$(".uix_sidebar_collapse"),r=$(".uix_sidebar_collapse_phrase"),i=$(".mainContainer .mainContent");if(e.length&&t.hasClass("hasSidebarToggle")){var s=e.hasClass("uix_mainSidebar_left")?"marginLeft":"marginRight",o=0;if(uix.mainContainerMargin.length)o=uix.mainContainerMargin;$(window).on("resize orientationchange",function(){if(uix.performanceLog)performanceTimer2=Date.now();i.css("transition","margin 0s");if(uix.windowWidth<=uix.sidebarMaxResponsiveWidth){i.css({marginRight:0,marginLeft:0})}else if(e.is(":visible")){i.css(s,o)}window.setTimeout(function(){i.css("transition","margin 0.4s ease-out")},400);if(uix.performanceLog)uix.log("~UIX.init.mainSidebar Resize/OrientationChange: "+(Date.now()-performanceTimer2)+" ms")});n.find("a").on("click",function(t){t.preventDefault();if(e.is(":visible")){$.setCookie("collapsedSidebar",1);n.addClass("uix_sidebar_collapsed");r.text(uix.collapsibleSidebar_phrase_open);if(uix.windowWidth>uix.sidebarMaxResponsiveWidth){e.css({opacity:"0"});window.setTimeout(function(){e.hide();i.css(s,"0");window.setTimeout(function(){window.dispatchEvent(new Event("resize"))},400)},400)}else{e.hide();i.css(s,0)}}else{$.setCookie("collapsedSidebar",0);n.removeClass("uix_sidebar_collapsed");r.text(uix.collapsibleSidebar_phrase_close);var o=uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth&&!uix.sidebarSticky.running;e.css({opacity:"0"});e.show();if(uix.windowWidth>uix.sidebarMaxResponsiveWidth){i.css(s,"origSidebarMargin");window.setTimeout(function(){e.css({opacity:"1"});window.setTimeout(function(){if(o)uix.init.stickySidebar();window.dispatchEvent(new Event("resize"))},400)},400)}else{e.show();e.css({opacity:"1"});i.css(s,0);window.dispatchEvent(new Event("resize"))}}});if($.getCookie("collapsedSidebar")==1){n.addClass("uix_sidebar_collapsed");r.text(uix.collapsibleSidebar_phrase_open);e.hide();i.css(s,0);window.dispatchEvent(new Event("resize"));window.setTimeout(function(){i.css("transition","margin 0.4s ease-out")},400)}else{i.css("transition","margin 0.4s ease-out")}uix.fn.updateSidebar()}if(uix.performanceLog)uix.log("~UIX.init.mainSidebar : "+(Date.now()-performanceTimer)+" ms")};uix.init.stickySidebar=function(){if(uix.performanceLog)uix.log("		UIX.init.stickySidebar start: "+(Date.now()-uix.performanceTimer)+" ms");uix.sidebarSticky.innerWrapper=uix.elm.sidebar.find(".inner_wrapper");uix.sidebarSticky.update();uix.sidebarSticky.running=true;if(uix.performanceLog)uix.log("		UIX.init.stickySidebar end: "+(Date.now()-uix.performanceTimer)+" ms")};uix.init.collapsibleNodes=function(){if(uix.performanceLog)performanceTimer=Date.now();if(t.hasClass("hasCollapseNodes")){if($.getCookie("collapsedNodes")){var e=$.getCookie("collapsedNodes"),n=e.split(".");$.each(n,function(e,t){if(t){$(".node_"+t+".category > .nodeList").hide();$(".node_"+t).addClass("collapsed")}})}$(".uix_collapseNodes").click(function(e){e.preventDefault();var t=$(this).parents(".node.category").children(".nodeList");var n=$(this).parents(".node.category").attr("id").split(".")[1];var r="";if($.getCookie("collapsedNodes"))r=$.getCookie("collapsedNodes");var i=false;collapseNodes_contentSplit=r.split(".");collapseNodes_result="";for(var s=0;s<collapseNodes_contentSplit.length;s++){if(collapseNodes_contentSplit[s]!=n&&collapseNodes_contentSplit[s]!=""){collapseNodes_result=collapseNodes_result+collapseNodes_contentSplit[s]+"."}else if(collapseNodes_contentSplit[s]==n){i=true}}if(i==false)collapseNodes_result=r+n+".";$.setCookie("collapsedNodes",collapseNodes_result);if(uix.sidebarSticky.running)var o=window.setInterval(function(){uix.sidebarSticky.update()},10);$(this).parents(".node.category").toggleClass("collapsed").children(".nodeList").slideToggle(400,function(){if(uix.sidebarSticky.running){window.clearInterval(o);uix.sidebarSticky.update()}})})}if(uix.performanceLog)uix.log("~UIX.init.collapsibleNodes : "+(Date.now()-performanceTimer)+" ms")};uix.init.offcanvas=function(){if(uix.performanceLog)performanceTimer=Date.now();$(".uix_sidePane .navTab.selected").addClass("active");$(".uix_sidePane .SplitCtrl").on("click",function(e){$(".uix_sidePane .navTab").removeClass("active");$(e.target).closest(".navTab").toggleClass("active");return false});uix.offcanvas={};uix.offcanvas.wrapper=$(".off-canvas-wrapper");uix.offcanvas.move=function(e){uix.offcanvas.wrapper.addClass("move-"+e)},uix.offcanvas.reset=function(){uix.offcanvas.wrapper.removeClass("move-right").removeClass("move-left")};$(".left-off-canvas-trigger").on("click",function(){uix.offcanvas.move("right");return false});$(".right-off-canvas-trigger").on("click",function(){uix.offcanvas.move("left");return false});$(".exit-off-canvas").on("touchstart click",function(){uix.offcanvas.reset();return false});if(uix.performanceLog)uix.log("~UIX.init.offcanvas : "+(Date.now()-performanceTimer)+" ms")};uix.init.scrollFunctions=function(){function i(){if(t==null){s();t=setTimeout(function(){t=null;window.clearTimeout(r);r=setTimeout(function(){s()},100)},n)}}function s(){if(uix.viewportRunning)uix.fn.viewportCheck();if(uix.sticky.running)uix.sticky.check();if(uix.sidebarSticky.running)uix.sidebarSticky.check();if(uix.jumpToFixedRunning)uix.fn.jumpToFixed()}var t=null;var n=10;var r=null;e.on("touchmove gesturechange scroll",function(e){i()})};uix.init.sticky=function(){sticky=uix.sticky;sticky.set({betaMode:uix.betaMode,performanceLog:uix.performanceLog,minWidthDefault:uix.stickyNavigation_minWidth,maxWidthDefault:uix.stickyNavigation_maxWidth,minHeightDefault:uix.stickyNavigation_minHeight,maxHeightDefault:uix.stickyNavigation_maxHeight,stickyMinPos:uix.stickyGlobalMinimumPosition,postAddFunc:function(){setTimeout(uix.init.fixScrollLocation,20)},postStickFunc:function(){if(uix.elm.logoSmall.length&&uix.elm.logo.length)uix.fn.checkLogoVisibility();XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks()},postUnstickFunc:function(){uix.fn.checkRadius();if(uix.elm.logoSmall.length&&uix.elm.logo.length)uix.fn.checkLogoVisibility();XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks()},postDelayUnstickFunc:function(){if(uix.elm.logoSmall.length&&uix.elm.logo.length)uix.fn.checkLogoVisibility();if(uix.sidebarSticky.running)uix.sidebarSticky.check();window.setTimeout(function(){uix.fn.checkRadius()},100);uix.slidingSidebar=true;XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks()},preDelayUnstickFunc:function(){if(uix.elm.sidebar.length&&uix.stickySidebar){if(uix.stickySidebarBottomFixed==0){uix.sidebarSticky.innerWrapper.css({transition:"top 0.2s"})}else{uix.sidebarSticky.innerWrapper.css({transition:"top 0s"});uix.slidingSidebar=false}}uix.sidebarSticky.check()}});var e=$(".stickyTop");for(var t=0;t<e.length;t++){item="#"+e[t].id;if(uix.stickyItems[item]!==undefined&&sticky.hasItem(item)==false)sticky.add(item,uix.stickyItems[item].normalHeight,uix.stickyItems[item].stickyHeight,uix.stickyItems[item].options)}};e.on("resize orientationchange",function(){if(uix.performanceLog)performanceTimer=Date.now();uix.init.viewportCheck();uix.fn.checkRadius();uix.fn.updateSidebar();uix.sidebarSticky.resize();if(uix.performanceLog)uix.log("Resize or orientation change: "+(Date.now()-uix.performanceTimer)+" ms")});e.on("load",uix.init.fixScrollLocation);uix.on("init",function(){if(uix.performanceLog)uix.log("Pre UIX Viewport Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.slidingSidebar=false;if(uix.sidebarMaxResponsiveWidthStr.replace(" ","")=="100%")uix.sidebarMaxResponsiveWidth=999999;uix.init.viewportCheck();if(uix.betaMode){console.warn("%cUI.X IS IN BETA MODE","color:#E74C3C;font-weight:bold")}if(uix.performanceLog)uix.log("Pre UIX Welcome Block Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.welcomeBlock();if(uix.performanceLog)uix.log("Pre UIX Jump to Fixed Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.jumpToFixed();if(uix.performanceLog)uix.log("Pre UIX Sidebar Init: "+(Date.now()-uix.performanceTimer)+" ms");if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth){uix.elm.sidebar.wrapInner('<div class="inner_wrapper"></div>');uix.elm.sidebar.css({width:uix.elm.sidebar_inner.outerWidth(),"float":uix.sidebar_innerFloat});uix.sidebarSticky.innerWrapper=uix.elm.sidebar_inner}uix.init.mainSidebar();if(uix.performanceLog)uix.log("Pre UIX Collapsible Nodes Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.collapsibleNodes();if(uix.performanceLog)uix.log("Pre UIX Off Canvas Init: "+(Date.now()-uix.performanceTimer)+" ms");if(uix.offCanvasSidebar)uix.init.offcanvas();if(uix.performanceLog)uix.log("Pre UIX AdminLinks Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.setupAdminLinks();if(uix.performanceLog)uix.log("Pre UIX Check Radius Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.fn.checkRadius();if(uix.performanceLog)uix.log("Pre UIX Sticky Init: "+(Date.now()-uix.performanceTimer)+" ms");if(uix.hasSticky)uix.init.sticky();if(uix.performanceLog)uix.log("Pre UIX Sticky Sidebar Init: "+(Date.now()-uix.performanceTimer)+" ms");if(uix.elm.sidebar.length&&uix.stickySidebar&&uix.windowWidth>uix.sidebarMaxResponsiveWidth&&uix.elm.sidebar.is(":visible")){uix.init.stickySidebar()}if(uix.performanceLog)uix.log("Pre UIX Fix Scroll Location Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.fixScrollLocation();if(uix.performanceLog)uix.log("Pre UIX Scroll Functions Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init.scrollFunctions();if(uix.performanceLog)uix.log("Pre Search Init: "+(Date.now()-uix.performanceTimer)+" ms");if($("#searchBar.hasSearchButton").length){$("#QuickSearch .primaryControls span").click(function(e){e.preventDefault();$("#QuickSearch > .formPopup").submit()})}if(uix.performanceLog)uix.log("Pre content Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.slidingSidebar=true;if($("#content.register_form").length)$("#loginBarHandle").hide()});if(uix.performanceLog)uix.log("Pre UIX Init: "+(Date.now()-uix.performanceTimer)+" ms");uix.init();uix.log("Post UIX Init: "+(Date.now()-uix.performanceTimer)+" ms")})