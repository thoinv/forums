var audentio;if(audentio===undefined)audentio={};audentio.pagination={id:"",displaySize:800,scrollDuration:300,sizeValid:false,needsInit:true,running:false,numPosts:0,currentPost:0,parent:null,threads:null,posts:[],uixSticky:true,input:null,dropdown:null,ele:null,scrollInterval:null,target:-1,listenersAdded:false,nextPage:"",prevPage:"",clickFn:function(e){audentio.pagination.clickEvent(e)},keyFn:function(e){audentio.pagination.keyEvent(e)},offset:0,init:function(e,t,n,r){if(uix!==undefined&&uix.maxResponsiveWideWidth!==undefined)audentio.pagination.displaySize=uix.maxResponsiveWideWidth;audentio.pagination.id=e;if(t===undefined)t="Out of";if(n===undefined)n="Enter Index";if(r!==undefined)audentio.pagination.offset=r;performanceTimer=Date.now();var i=document.getElementById(e);audentio.pagination.parent=i;threads=document.getElementById("messageList");audentio.pagination.threads=threads;if(i!==null&&threads!==null&&audentio.pagination.needsInit){if(window.innerWidth>audentio.pagination.displaySize){audentio.pagination.updatePosts();content='<a href="javascript: audentio.pagination.scrollToPost(0)"><i class="fa fa-angle-double-up pointer fa-fw pagetop"></i></a>';content+='<a href="javascript: audentio.pagination.prevPost()"><i class="fa fa-angle-up pointer fa-fw pageup"></i></a>';content+='<a href="javascript: audentio.pagination.toggleIndexSelect(true)">';content+='	<span><span id="audentio_postPaginationCurrent"></span> '+t+" "+audentio.pagination.numPosts+"</span>";content+="</a>";content+='<a href="javascript: audentio.pagination.nextPost()"><i class="fa fa-angle-down pointer fa-fw pagedown"></i></a>';content+='<a href="javascript: audentio.pagination.scrollToPost('+(audentio.pagination.numPosts-1)+')"><i class="fa fa-angle-double-down pointer fa-fw pagebottom"></i></a>';content+='<div class="progress-container">';content+='	<div class="progress-bar" id="audentio_postPaginationBar"></div>';content+="</div>";content+='<div id="audentio_postPaginationDropdown">';content+='	<input type="text" id="audentio_postPaginationInput" class="textCtrl" placeholder="'+n+'">';content+="</div>";var s=document.createElement("span");s.className="navLink";s.innerHTML=content;i.appendChild(s);XenForo.updateVisibleNavigationTabs();XenForo.updateVisibleNavigationLinks();audentio.pagination.ele=s;audentio.pagination.updateCurrentPost();audentio.pagination.input=document.getElementById("audentio_postPaginationInput");audentio.pagination.dropdown=document.getElementById("audentio_postPaginationDropdown");document.addEventListener("scroll",function(e){audentio.pagination.updateCurrentPost()});audentio.pagination.updateBar();audentio.pagination.running=true;audentio.pagination.needsInit=false;var o=document.getElementsByTagName("LINK");for(var u=0;u<o.length;u++){if(o[u].rel=="prev")audentio.pagination.prevPage=o[u].href;if(o[u].rel=="next")audentio.pagination.nextPage=o[u].href}window.setTimeout(function(){audentio.pagination.update()},100)}}if(audentio.pagination.listenersAdded==false){window.addEventListener("resize",function(e){audentio.pagination.update()});window.addEventListener("orientationchange",function(e){audentio.pagination.update()});audentio.pagination.listenersAdded=true}if(uix!==undefined&&uix.betaMode==true)console.log("Pagination : "+(Date.now()-performanceTimer)+" ms")},update:function(){audentio.pagination.checkSize();if(audentio.pagination.sizeValid){if(audentio.pagination.needsInit){audentio.pagination.init(audentio.pagination.id)}else{audentio.pagination.updatePosts();audentio.pagination.updateCurrentPost()}}},checkSize:function(){if(window.innerWidth>audentio.pagination.displaySize){audentio.pagination.sizeValid=true;if(audentio.pagination.running)audentio.pagination.ele.style.display="block"}else{audentio.pagination.sizeValid=false;if(audentio.pagination.running)audentio.pagination.ele.style.display="none"}},toggleIndexSelect:function(e){if(e){audentio.pagination.dropdown.style.display="block";document.addEventListener("click",audentio.pagination.clickFn);audentio.pagination.input.addEventListener("keypress",audentio.pagination.keyFn)}else{audentio.pagination.dropdown.style.display="none";document.removeEventListener("click",audentio.pagination.clickFn);audentio.pagination.input.removeEventListener("keypress",audentio.pagination.keyFn)}},keyEvent:function(e){var t=e.which||e.keyCode;if(t==13){var n=parseInt(audentio.pagination.input.value);if(n<1)n=1;if(n>audentio.pagination.numPosts)n=audentio.pagination.numPosts;audentio.pagination.input.value="";audentio.pagination.toggleIndexSelect(false);audentio.pagination.scrollToPost(n-1)}},clickEvent:function(e){if(e.target.id!="audentio_postPaginationDropdown"&&e.target.id!="audentio_postPaginationInput")audentio.pagination.toggleIndexSelect(false)},getOffset:function(e){if(e-audentio.pagination.currentPost>0){if(audentio.pagination.uixSticky){return uix.sticky.downStickyHeight+audentio.pagination.offset}}else{if(audentio.pagination.uixSticky)return uix.sticky.fullStickyHeight+audentio.pagination.offset}return 0},prevPost:function(){if(audentio.pagination.target!=-1){window.scrollTo(0,audentio.pagination.target);audentio.pagination.updateCurrentPost()}var e=audentio.pagination.currentPost-1;if(e<0){if(audentio.pagination.prevPage!="")window.location.href=audentio.pagination.prevPage}else{if(audentio.pagination.currentPost>0)audentio.pagination.scrollToPost(e)}},nextPost:function(){if(audentio.pagination.target!=-1){window.scrollTo(0,audentio.pagination.target);audentio.pagination.updateCurrentPost()}var e=audentio.pagination.currentPost+1;if(e>=audentio.pagination.numPosts){if(audentio.pagination.nextPage!="")window.location.href=audentio.pagination.nextPage}else{audentio.pagination.scrollToPost(e)}},scrollToPost:function(e){var t=0;if(e>=audentio.pagination.numPosts){t=document.body.getBoundingClientRect().height}else if(e>=0){t=audentio.pagination.posts[e]-audentio.pagination.getOffset(e)}audentio.pagination.target=t;startY=window.scrollY;numSteps=Math.ceil(audentio.pagination.scrollDuration/15);scrollStep=(startY-t)/numSteps;scrollCount=0;clearInterval(audentio.pagination.scrollInterval);audentio.pagination.scrollInterval=setInterval(function(){if(scrollCount<numSteps&&audentio.pagination.target!=-1){scrollCount+=1;window.scrollTo(0,startY-scrollStep*scrollCount)}else{clearInterval(audentio.pagination.scrollInterval);window.scrollTo(0,t);audentio.pagination.target=-1}},15)},updateNumPosts:function(){audentio.pagination.numPosts=audentio.pagination.threads.getElementsByClassName("message").length},updateCurrentPost:function(){var e=window.scrollY||document.documentElement.scrollTop;e+=audentio.pagination.getOffset()-20;var t=0;for(var n=0;n<audentio.pagination.numPosts-1;n++){if(e>=audentio.pagination.posts[n]){t=n+1}else{break}}document.getElementById("audentio_postPaginationCurrent").innerHTML=t+1;if(t!=audentio.pagination.currentPost){audentio.pagination.currentPost=t;audentio.pagination.updateBar()}},updatePosts:function(){audentio.pagination.updateNumPosts();for(var e=0;e<audentio.pagination.numPosts;e++){var t=audentio.pagination.threads.getElementsByClassName("message")[e];audentio.pagination.posts[e]=t.offsetTop}},updateBar:function(){document.getElementById("audentio_postPaginationBar").style.width=(audentio.pagination.currentPost+1)/audentio.pagination.numPosts*100+"%"}}